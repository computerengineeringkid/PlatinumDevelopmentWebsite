<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platinum Development - Redefining the Las Vegas Landscape</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hamburger-line {
            transition: all 0.3s ease-in-out;
        }
        .hamburger-active > span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        .hamburger-active > span:nth-child(2) {
            opacity: 0;
        }
        .hamburger-active > span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header id="header" class="bg-white shadow-md sticky top-0 z-50 transition-all duration-300">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <svg class="h-8 w-8 text-gray-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" />
                </svg>
                <span class="text-xl font-bold text-gray-700" data-cms-text="companyName">Platinum Development</span>
            </div>
            <div class="hidden md:flex items-center space-x-8" data-cms-nav="desktop">
                <a href="#home" class="text-gray-600 hover:text-gray-900 transition-colors">Home</a>
                <a href="#about" class="text-gray-600 hover:text-gray-900 transition-colors">About</a>
                <a href="#portfolio" class="text-gray-600 hover:text-gray-900 transition-colors">Portfolio</a>
                <a href="#investors" class="text-gray-600 hover:text-gray-900 transition-colors">Investors</a>
                <a href="#contact" class="bg-gray-800 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors">Contact Us</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="hamburger block focus:outline-none" aria-label="Toggle navigation">
                    <span class="hamburger-line block w-6 h-0.5 bg-gray-700 my-1"></span>
                    <span class="hamburger-line block w-6 h-0.5 bg-gray-700 my-1"></span>
                    <span class="hamburger-line block w-6 h-0.5 bg-gray-700 my-1"></span>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden" data-cms-nav="mobile">
            <a href="#home" class="block py-2 px-6 text-sm hover:bg-gray-100">Home</a>
            <a href="#about" class="block py-2 px-6 text-sm hover:bg-gray-100">About</a>
            <a href="#portfolio" class="block py-2 px-6 text-sm hover:bg-gray-100">Portfolio</a>
            <a href="#investors" class="block py-2 px-6 text-sm hover:bg-gray-100">Investors</a>
            <a href="#contact" class="block py-2 px-6 text-sm hover:bg-gray-100">Contact</a>
        </div>
    </header>

    <main>
        <section id="home" class="h-screen bg-cover bg-center flex items-center justify-center text-white" data-cms-bg-image="hero.backgroundImage" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('vegas2.jpg');">
            <div class="text-center px-4 fade-in-section">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4" data-cms-text="hero.headline">Redefining the Las Vegas Landscape.</h1>
                <p class="text-lg md:text-xl text-gray-200 mb-8 max-w-3xl mx-auto" data-cms-text="hero.subheadline">Developing premier retail, multifamily, and single-family properties with excellence and integrity.</p>
                <a href="#portfolio" class="bg-white text-gray-800 font-bold py-3 px-8 rounded-lg text-lg hover:bg-gray-200 transition-transform transform hover:scale-105" data-cms-text="hero.ctaLabel" data-cms-attr-href="hero.ctaHref">Explore Projects</a>
            </div>
        </section>

        <section id="about" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="grid md:grid-cols-2 gap-12 items-center fade-in-section">
                    <div>
                        <img src="https://placehold.co/600x400/EFEFEF/333?text=Modern+Construction" alt="Construction Site" class="rounded-lg shadow-xl w-full" data-cms-image="about.image">
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold mb-4" data-cms-text="about.heading">Building Communities, Creating Value.</h2>
                        <div class="space-y-4" data-cms-paragraphs="about.body" data-cms-paragraph-class="text-gray-600">
                            <p class="text-gray-600">We are Platinum Development, a premier developer and operator of high-quality retail, multifamily, and single-family projects. Through our robust services and commitment to excellence, we ensure the creation of the best properties for our local communities.</p>
                            <p class="text-gray-600">Our expertise in the Las Vegas market allows us to identify unique opportunities and deliver exceptional returns for our partners and investors.</p>
                        </div>
                        <div class="mt-10 grid sm:grid-cols-2 gap-6 hidden fade-in-section" data-cms-collection="about.highlights">
                        </div>
                    </div>
                </div>
                <div class="mt-16 grid grid-cols-2 sm:grid-cols-4 gap-6 fade-in-section hidden" data-cms-collection="about.stats">
                </div>
            </div>
        </section>

        <section id="portfolio" class="py-20 bg-gray-50">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in-section">
                    <h2 class="text-3xl font-bold" data-cms-text="portfolio.heading">Our Portfolio</h2>
                    <p class="text-gray-600 mt-2" data-cms-text="portfolio.subheading">A selection of our completed and upcoming projects.</p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" data-cms-collection="projects">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 fade-in-section">
                        <img src="https://placehold.co/600x400/DDD/333?text=Retail+Property" alt="6830 S. Rainbow Blvd" class="w-full h-56 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">6830 S. Rainbow Blvd</h3>
                            <p class="text-gray-600">Vibrant retail center in a prime location.</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 fade-in-section">
                        <img src="https://placehold.co/600x400/DDD/333?text=Multifamily+Property" alt="8021 Vegas Dr" class="w-full h-56 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">8021 Vegas Dr</h3>
                            <p class="text-gray-600">22 modern townhome units.</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 fade-in-section">
                        <img src="https://placehold.co/600x400/DDD/333?text=Single-Family" alt="Lucky Pagoda Ct" class="w-full h-56 object-cover">
                        <div class="p-6">
                            <h3 class="text-xl font-semibold mb-2">Lucky Pagoda Ct</h3>
                            <p class="text-gray-600">14 exclusive single-family units.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="tenants" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center fade-in-section">
                <h2 class="text-3xl font-bold mb-2" data-cms-text="partners.heading">Trusted By Leading Brands</h2>
                <p class="text-gray-600 mb-10" data-cms-text="partners.subheading">We are proud to partner with nationally recognized tenants.</p>
                <div class="flex flex-wrap justify-center items-center gap-x-12 gap-y-8" data-cms-collection="partners.items">
                </div>
            </div>
        </section>

        <section id="investors" class="py-20 bg-gray-800 text-white">
            <div class="container mx-auto px-6 text-center fade-in-section">
                <h2 class="text-3xl font-bold" data-cms-text="investor.heading">Invest with Confidence</h2>
                <div class="text-gray-300 mt-4 max-w-2xl mx-auto space-y-4" data-cms-paragraphs="investor.body" data-cms-paragraph-class="text-gray-300">
                    <p>Join us in developing and managing premier real estate deals in Las Vegas that offer excellent returns. We provide stable and lucrative investment opportunities.</p>
                </div>
                <a href="#contact" class="mt-8 inline-block bg-white text-gray-800 font-bold py-3 px-8 rounded-lg text-lg hover:bg-gray-200 transition-transform transform hover:scale-105" data-cms-text="investor.ctaLabel" data-cms-attr-href="investor.ctaHref">Become an Investor</a>
            </div>
        </section>

        <section id="contact" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in-section">
                    <h2 class="text-3xl font-bold" data-cms-text="contact.heading">Contact Us</h2>
                    <p class="text-gray-600 mt-2" data-cms-text="contact.subheading">Let's build something great together. Reach out to discuss your next project.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-start fade-in-section">
                    <form class="space-y-6">
                        <div class="grid sm:grid-cols-2 gap-6">
                            <div>
                                <label for="first-name" class="block text-sm font-medium text-gray-700">First Name</label>
                                <input type="text" id="first-name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" required>
                            </div>
                            <div>
                                <label for="last-name" class="block text-sm font-medium text-gray-700">Last Name</label>
                                <input type="text" id="last-name" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" required>
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
                            <input type="email" id="email" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" required>
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-gray-700">Message</label>
                            <textarea id="message" rows="4" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" required></textarea>
                        </div>
                        <div>
                            <button type="submit" class="w-full bg-gray-800 text-white py-3 px-6 rounded-lg font-semibold hover:bg-gray-700 transition-colors">Send Message</button>
                        </div>
                    </form>
                    <div class="space-y-6">
                        <div class="bg-gray-50 p-6 rounded-lg space-y-3">
                            <h3 class="text-xl font-semibold" data-cms-text="contact.infoHeading">Our Information</h3>
                            <p class="text-gray-600" data-cms-text="contact.email"><strong>Email:</strong><br> info@prdevelopmentgroup.com</p>
                            <p class="text-gray-600" data-cms-text="contact.address"><strong>Address:</strong><br> 6870 S. Rainbow, Las Vegas, NV, 89118</p>
                            <p class="text-gray-600" data-cms-text="contact.hours"><strong>Hours:</strong><br> Monday – Friday: 9:00 am – 5:00 pm</p>
                        </div>
                        <div class="bg-gray-200 h-64 rounded-lg flex items-center justify-center text-gray-500" data-cms-map="contact.mapEmbed">
                            <p>Map Placeholder</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white">
        <div class="container mx-auto px-6 py-8">
            <div class="sm:flex sm:justify-between text-center sm:text-left">
                <div>
                    <h3 class="text-lg font-bold" data-cms-text="footer.companyName">Platinum Development</h3>
                    <p class="text-gray-400 mt-2" data-cms-text="footer.copyright">© 2025 Platinum Development. All Rights Reserved.</p>
                    <p class="text-gray-400 mt-1" data-cms-text="footer.credits">Website by Saguaro Interactive</p>
                </div>
                <div class="mt-6 sm:mt-0" data-cms-footer-nav>
                    <h4 class="font-semibold">Quick Links</h4>
                    <ul class="mt-2 space-y-1">
                        <li><a href="#home" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="#portfolio" class="text-gray-400 hover:text-white">Portfolio</a></li>
                        <li><a href="#investors" class="text-gray-400 hover:text-white">Investors</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <template id="portfolio-card-template">
        <div class="bg-white rounded-lg shadow-lg overflow-hidden transform hover:-translate-y-2 transition-transform duration-300 fade-in-section">
            <img data-role="image" src="" alt="" class="w-full h-56 object-cover" loading="lazy">
            <div class="p-6 space-y-4">
                <div class="flex flex-wrap items-center gap-2 text-sm text-gray-500" data-role="meta"></div>
                <h3 class="text-xl font-semibold" data-role="title"></h3>
                <p class="text-gray-600" data-role="summary"></p>
                <dl class="grid grid-cols-1 gap-3" data-role="metrics"></dl>
            </div>
        </div>
    </template>

    <template id="partner-badge-template">
        <div class="h-12 text-gray-500 font-semibold text-2xl flex items-center justify-center"></div>
    </template>

    <template id="highlight-card-template">
        <div class="bg-gray-50 border border-gray-100 rounded-xl p-6 shadow-sm space-y-3">
            <h3 class="text-xl font-semibold text-gray-900" data-role="title"></h3>
            <p class="text-gray-600" data-role="description"></p>
        </div>
    </template>

    <template id="stat-card-template">
        <div class="bg-white rounded-xl shadow-sm p-6 text-center">
            <dt class="text-3xl font-bold text-gray-900" data-role="value"></dt>
            <dd class="mt-2 text-sm uppercase tracking-wide text-gray-500" data-role="label"></dd>
        </div>
    </template>

    <script>
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            menuBtn.classList.toggle('hamburger-active');
            mobileMenu.classList.toggle('hidden');
        });

        const mobileLinks = document.querySelectorAll('#mobile-menu a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                menuBtn.classList.remove('hamburger-active');
                mobileMenu.classList.add('hidden');
            });
        });

        const sections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, {
            threshold: 0.1
        });

        sections.forEach(section => {
            observer.observe(section);
        });
    </script>

    <script>
        const DATA_SOURCE_URL = './content/site.json';

        function setText(key, value) {
            if (typeof value !== 'string' || !value.trim()) {
                return;
            }
            document.querySelectorAll(`[data-cms-text="${key}"]`).forEach((el) => {
                el.textContent = value;
            });
        }

        function setAttr(key, attr, value) {
            if (!value) {
                return;
            }
            document.querySelectorAll(`[data-cms-attr-${attr}="${key}"]`).forEach((el) => {
                el.setAttribute(attr, value);
            });
        }

        function setBackgroundImage(key, url, alt) {
            if (!url) {
                return;
            }
            document.querySelectorAll(`[data-cms-bg-image="${key}"]`).forEach((el) => {
                const gradient = 'linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5))';
                el.style.backgroundImage = `${gradient}, url('${url}')`;
                if (alt) {
                    el.setAttribute('aria-label', alt);
                }
            });
        }

        function setImage(key, url, altText) {
            if (!url) {
                return;
            }
            document.querySelectorAll(`[data-cms-image="${key}"]`).forEach((el) => {
                el.src = url;
                if (altText) {
                    el.alt = altText;
                }
            });
        }

        function setParagraphs(key, paragraphs, defaultClass) {
            if (!Array.isArray(paragraphs) || !paragraphs.length) {
                return;
            }
            document.querySelectorAll(`[data-cms-paragraphs="${key}"]`).forEach((container) => {
                const paragraphClass = container.getAttribute('data-cms-paragraph-class') || defaultClass || '';
                container.innerHTML = '';
                paragraphs.forEach((entry) => {
                    const text = typeof entry === 'string' ? entry : entry?.paragraph || entry?.text || '';
                    if (!text) return;
                    const p = document.createElement('p');
                    p.className = paragraphClass;
                    p.textContent = text;
                    container.appendChild(p);
                });
            });
        }

        function renderNavLinks(links) {
            if (!Array.isArray(links) || !links.length) {
                return;
            }
            const desktop = document.querySelector('[data-cms-nav="desktop"]');
            const mobile = document.querySelector('[data-cms-nav="mobile"]');
            const footer = document.querySelector('[data-cms-footer-nav] ul');
            const menuButton = document.getElementById('menu-btn');
            const mobileMenuElement = document.getElementById('mobile-menu');
            const primaryIndex = links.findIndex((link) => link?.isPrimary);
            const fallbackPrimaryIndex = primaryIndex >= 0 ? primaryIndex : links.length - 1;

            const render = (container, isDesktop) => {
                if (!container) return;
                container.innerHTML = '';
                links.forEach(({label, href, isPrimary}, index) => {
                    if (!label) return;
                    const linkHref = href || '#';
                    const a = document.createElement('a');
                    a.textContent = label;
                    a.href = linkHref;
                    if (isDesktop) {
                        a.className = 'text-gray-600 hover:text-gray-900 transition-colors';
                        if (isPrimary || index === fallbackPrimaryIndex) {
                            a.className = 'bg-gray-800 text-white py-2 px-4 rounded-lg hover:bg-gray-700 transition-colors';
                        }
                    } else {
                        a.className = 'block py-2 px-6 text-sm hover:bg-gray-100';
                        if (isPrimary || index === fallbackPrimaryIndex) {
                            a.classList.add('font-semibold');
                        }
                        a.addEventListener('click', () => {
                            if (menuButton && mobileMenuElement) {
                                menuButton.classList.remove('hamburger-active');
                                mobileMenuElement.classList.add('hidden');
                            }
                        });
                    }
                    container.appendChild(a);
                });
            };

            render(desktop, true);
            render(mobile, false);

            if (footer) {
                footer.innerHTML = '';
                links.forEach(({label, href}) => {
                    if (!label) return;
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.textContent = label;
                    a.href = href || '#';
                    a.className = 'text-gray-400 hover:text-white';
                    li.appendChild(a);
                    footer.appendChild(li);
                });
            }
        }

        function formatLabel(value) {
            if (!value) return '';
            const spaced = value.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ');
            return spaced.charAt(0).toUpperCase() + spaced.slice(1);
        }

        function renderProjects(projects) {
            const grid = document.querySelector('[data-cms-collection="projects"]');
            if (!grid) {
                return;
            }
            const template = document.getElementById('portfolio-card-template');
            if (!template) {
                return;
            }
            grid.innerHTML = '';
            if (!Array.isArray(projects) || !projects.length) {
                const placeholder = document.createElement('div');
                placeholder.className = 'col-span-full text-center text-gray-500 py-10';
                placeholder.textContent = 'Projects are coming soon. Add them in the CMS to feature your work.';
                grid.appendChild(placeholder);
                return;
            }
            projects.forEach((project, index) => {
                const clone = template.content.firstElementChild.cloneNode(true);
                const image = clone.querySelector('[data-role="image"]');
                if (image && project.image) {
                    image.src = project.image;
                    image.alt = project.imageAlt || project.title || 'Project image';
                }
                const meta = clone.querySelector('[data-role="meta"]');
                if (meta) {
                    meta.innerHTML = '';
                    if (project.propertyType) {
                        const span = document.createElement('span');
                        span.textContent = formatLabel(project.propertyType);
                        meta.appendChild(span);
                    }
                    if (project.status) {
                        const status = document.createElement('span');
                        status.textContent = formatLabel(project.status);
                        status.className = 'px-2 py-0.5 rounded-full bg-gray-100 text-gray-700 text-xs font-semibold';
                        meta.appendChild(status);
                    }
                    if (!meta.childElementCount) {
                        meta.remove();
                    }
                }
                const title = clone.querySelector('[data-role="title"]');
                if (title) {
                    title.textContent = project.title || '';
                }
                const summary = clone.querySelector('[data-role="summary"]');
                if (summary) {
                    summary.textContent = project.summary || '';
                }
                const metrics = clone.querySelector('[data-role="metrics"]');
                if (metrics) {
                    metrics.innerHTML = '';
                    if (Array.isArray(project.metrics) && project.metrics.length) {
                        project.metrics.forEach((metric) => {
                            if (!metric?.label || !metric?.value) {
                                return;
                            }
                            const wrapper = document.createElement('div');
                            wrapper.className = 'flex flex-col sm:flex-row sm:items-baseline sm:justify-between gap-1';
                            const value = document.createElement('span');
                            value.className = 'text-lg font-semibold text-gray-900';
                            value.textContent = metric.value;
                            const label = document.createElement('span');
                            label.className = 'text-sm text-gray-500';
                            label.textContent = metric.label;
                            wrapper.appendChild(value);
                            wrapper.appendChild(label);
                            metrics.appendChild(wrapper);
                        });
                    }
                    if (!metrics.childElementCount) {
                        metrics.remove();
                    }
                }
                clone.style.transitionDelay = `${index * 100}ms`;
                grid.appendChild(clone);
            });
        }

        function renderHighlights(highlights) {
            const container = document.querySelector('[data-cms-collection="about.highlights"]');
            if (!container) {
                return;
            }
            const template = document.getElementById('highlight-card-template');
            container.innerHTML = '';
            if (!template || !Array.isArray(highlights) || !highlights.length) {
                container.classList.add('hidden');
                return;
            }
            highlights.forEach((item) => {
                if (!item?.title && !item?.description) {
                    return;
                }
                const clone = template.content.firstElementChild.cloneNode(true);
                const title = clone.querySelector('[data-role="title"]');
                if (title && item.title) {
                    title.textContent = item.title;
                } else if (title) {
                    title.remove();
                }
                const description = clone.querySelector('[data-role="description"]');
                if (description && item.description) {
                    description.textContent = item.description;
                } else if (description) {
                    description.remove();
                }
                container.appendChild(clone);
            });
            if (!container.childElementCount) {
                container.classList.add('hidden');
            } else {
                container.classList.remove('hidden');
            }
        }

        function renderStats(stats) {
            const container = document.querySelector('[data-cms-collection="about.stats"]');
            if (!container) {
                return;
            }
            const template = document.getElementById('stat-card-template');
            container.innerHTML = '';
            if (!template || !Array.isArray(stats) || !stats.length) {
                container.classList.add('hidden');
                return;
            }
            stats.forEach((stat) => {
                if (!stat?.label && !stat?.value) {
                    return;
                }
                const clone = template.content.firstElementChild.cloneNode(true);
                const value = clone.querySelector('[data-role="value"]');
                if (value && stat.value) {
                    value.textContent = stat.value;
                }
                const label = clone.querySelector('[data-role="label"]');
                if (label && stat.label) {
                    label.textContent = stat.label;
                }
                container.appendChild(clone);
            });
            if (!container.childElementCount) {
                container.classList.add('hidden');
            } else {
                container.classList.remove('hidden');
            }
        }

        function renderPartners(partners) {
            const container = document.querySelector('[data-cms-collection="partners.items"]');
            if (!container) {
                return;
            }
            const template = document.getElementById('partner-badge-template');
            container.innerHTML = '';
            if (!template) {
                return;
            }
            if (!Array.isArray(partners) || !partners.length) {
                const placeholder = document.createElement('div');
                placeholder.className = 'text-gray-400 text-base';
                placeholder.textContent = 'Add partner logos in the CMS to showcase your tenants.';
                container.appendChild(placeholder);
                return;
            }
            partners.forEach((partner) => {
                if (!partner || !partner.name) return;
                const clone = template.content.firstElementChild.cloneNode(true);
                if (partner.logo) {
                    clone.innerHTML = '';
                    const img = document.createElement('img');
                    img.src = partner.logo;
                    img.alt = partner.name;
                    img.className = 'max-h-12';
                    clone.appendChild(img);
                } else {
                    clone.textContent = partner.name;
                }
                container.appendChild(clone);
            });
        }

        function renderContactInfo(contact) {
            if (!contact) {
                return;
            }
            setText('contact.infoHeading', contact.infoHeading || 'Our Information');
            if (contact.email) {
                const emailEl = document.querySelector('[data-cms-text="contact.email"]');
                if (emailEl) {
                    emailEl.innerHTML = `<strong>Email:</strong><br>${contact.email}`;
                }
            }
            if (contact.address) {
                const addressEl = document.querySelector('[data-cms-text="contact.address"]');
                if (addressEl) {
                    addressEl.innerHTML = `<strong>Address:</strong><br>${contact.address}`;
                }
            }
            if (contact.hours) {
                const hoursEl = document.querySelector('[data-cms-text="contact.hours"]');
                if (hoursEl) {
                    hoursEl.innerHTML = `<strong>Hours:</strong><br>${contact.hours}`;
                }
            }
            if (contact.mapEmbed) {
                document.querySelectorAll('[data-cms-map="contact.mapEmbed"]').forEach((container) => {
                    container.innerHTML = contact.mapEmbed;
                });
            }
        }

        function applySiteContent(site) {
            if (!site) {
                return;
            }

            if (site.title) {
                document.title = site.title;
            }

            setText('companyName', site.companyName);
            renderNavLinks(site.navigationLinks);

            const hero = site.hero || {};
            setBackgroundImage('hero.backgroundImage', hero.backgroundImage, hero.backgroundAlt);
            setText('hero.headline', hero.headline);
            setText('hero.subheadline', hero.subheadline);
            setText('hero.ctaLabel', hero.ctaLabel);
            setAttr('hero.ctaHref', 'href', hero.ctaHref);

            const about = site.about || {};
            setImage('about.image', about.image, about.imageAlt || about.heading);
            setText('about.heading', about.heading);
            setParagraphs('about.body', about.body, 'text-gray-600');
            renderHighlights(about.highlights);
            renderStats(about.stats);

            const portfolioIntro = site.portfolioIntro || {};
            setText('portfolio.heading', portfolioIntro.heading);
            setText('portfolio.subheading', portfolioIntro.subheading);

            const partners = site.partners || {};
            setText('partners.heading', partners.heading);
            setText('partners.subheading', partners.subheading);
            renderPartners(partners.items);

            const investor = site.investor || {};
            setText('investor.heading', investor.heading);
            setParagraphs('investor.body', investor.body, 'text-gray-300');
            setText('investor.ctaLabel', investor.ctaLabel);
            setAttr('investor.ctaHref', 'href', investor.ctaHref);

            const contact = site.contact || {};
            setText('contact.heading', contact.heading);
            setText('contact.subheading', contact.subheading);
            renderContactInfo(contact);

            const footer = site.footer || {};
            setText('footer.companyName', footer.companyName);
            setText('footer.copyright', footer.copyright);
            setText('footer.credits', footer.credits);

            renderProjects(site.projects);
        }

        async function loadSiteContent() {
            try {
                const response = await fetch(DATA_SOURCE_URL, { cache: 'no-store' });
                if (!response.ok) {
                    throw new Error(`Request failed with status ${response.status}`);
                }
                const site = await response.json();
                applySiteContent(site);
            } catch (error) {
                console.error('Failed to load site content from Decap CMS data file.', error);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadSiteContent();
        });
    </script>

    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on('init', (user) => {
                if (!user) {
                    window.netlifyIdentity.on('login', () => {
                        document.location.href = '/admin/';
                    });
                }
            });
        }
    </script>
</body>
</html>
