<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platinum Development - Redefining the Las Vegas Landscape</title>
    <link rel="preload" as="image" href="vegas2.jpg" id="hero-preload">
    <script src="https://cdn.tailwindcss.com" defer></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js" defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
        }
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        #header {
            transition: top 0.3s ease, border-radius 0.3s ease, box-shadow 0.3s ease, margin 0.3s ease, max-width 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
        }
        #header.header-floating {
            top: 1rem;
            border-radius: 1.5rem;
            margin-left: auto;
            margin-right: auto;
            width: calc(100% - 2rem);
            max-width: 72rem;
            border-color: rgba(0, 31, 63, 0.18);
            box-shadow: 0 24px 55px -28px rgba(0, 31, 63, 0.35);
            background-color: rgba(255, 255, 255, 0.98);
        }
        #header nav {
            transition: padding 0.3s ease, gap 0.3s ease;
        }
        #header.header-floating nav {
            padding-top: 1rem;
            padding-bottom: 1rem;
            gap: 1rem;
        }
        .logo-marquee {
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            height: 120px;
            mask-image: linear-gradient(to right, transparent, rgba(0,0,0,0.85) 10%, rgba(0,0,0,0.85) 90%, transparent);
        }
        .logo-track {
            display: flex;
            align-items: center;
            gap: 4rem;
            width: max-content;
            animation: marquee 28s linear infinite;
        }
        .logo-marquee:hover .logo-track {
            animation-play-state: paused;
        }
        .logo-track img {
            height: 72px;
            width: 180px;
            object-fit: contain;
            filter: saturate(0.75);
            transition: filter 0.3s ease;
        }
        .logo-track img:hover {
            filter: saturate(1);
        }
        @keyframes marquee {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
        @media (prefers-reduced-motion: reduce) {
            .logo-track {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transform: none !important;
            }
        }
        .portfolio-card {
            position: relative;
            overflow: hidden;
            border-radius: 1rem;
            background: #FFFFFF;
            box-shadow: 0 20px 45px -28px rgba(0, 31, 63, 0.16);
            border: 1px solid rgba(0, 31, 63, 0.08);
            transition: transform 0.3s ease;
        }
        .portfolio-card:hover {
            transform: translateY(-6px);
        }
        .portfolio-card__media {
            position: relative;
            height: 220px;
            overflow: hidden;
            background: linear-gradient(135deg, #FFEDD5, #F5F5F5);
        }
        .portfolio-card__media img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
            display: none;
        }
        .portfolio-card__media[data-has-image] img {
            display: block;
        }
        .portfolio-card__media[data-has-image] .portfolio-card__media--placeholder {
            display: none;
        }
        .portfolio-card:hover .portfolio-card__media img {
            transform: scale(1.05);
        }
        .portfolio-card__badge {
            position: absolute;
            left: 1rem;
            top: 1rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background: rgba(255, 102, 0, 0.9);
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: #FFFFFF;
        }
        .portfolio-card__body {
            padding: 1.75rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            height: 100%;
        }
        .portfolio-card__meta {
            display: flex;
            justify-content: space-between;
            gap: 0.75rem;
            font-size: 0.95rem;
            color: #333333;
            flex-wrap: wrap;
        }
        .portfolio-card__title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #001F3F;
        }
        .portfolio-card__copy {
            font-size: 0.98rem;
            color: #333333;
            line-height: 1.55;
        }
        .portfolio-card__status {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 0.72rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: rgba(0, 31, 63, 0.75);
            margin-top: auto;
            padding-top: 1.25rem;
            border-top: 1px solid rgba(0, 31, 63, 0.08);
            width: 100%;
            justify-content: center;
        }
        .portfolio-card__dot {
            width: 0.45rem;
            height: 0.45rem;
            border-radius: 9999px;
            background: #FF6600;
        }
        .portfolio-card__metrics {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .portfolio-card__metrics span {
            display: block;
        }
        .portfolio-card__media--placeholder {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem;
            text-align: center;
            background: linear-gradient(135deg, #FFEDD5, #F5F5F5);
        }
        .portfolio-card__media-text {
            font-size: 0.8rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: #001F3F;
        }
        .portfolio-carousel__track {
            scrollbar-width: none;
        }
        .portfolio-carousel__track::-webkit-scrollbar {
            display: none;
        }
        .portfolio-carousel__track::before,
        .portfolio-carousel__track::after {
            content: '';
            flex: 0 0 var(--carousel-side-padding, 0px);
        }
        @media (max-width: 640px) {
            .portfolio-carousel__track {
                --carousel-card-min-width: 280px;
                --carousel-side-padding: max(1.5rem, calc((100vw - var(--carousel-card-min-width)) / 2));
                padding-left: var(--carousel-side-padding);
                padding-right: var(--carousel-side-padding);
                scroll-padding-left: var(--carousel-side-padding);
                scroll-padding-right: var(--carousel-side-padding);
            }
            .portfolio-carousel__track::before,
            .portfolio-carousel__track::after {
                content: none;
                flex: 0 0 auto;
            }
            .portfolio-card {
                scroll-snap-align: center;
            }
        }
        .carousel-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 9999px;
            border: 1px solid rgba(0, 31, 63, 0.15);
            background: #FFFFFF;
            color: #001F3F;
            transition: all 0.2s ease;
        }
        .carousel-button:hover {
            background: #D4AF37;
            color: #001F3F;
            border-color: #D4AF37;
        }
        .carousel-button[disabled] {
            opacity: 0.35;
            cursor: not-allowed;
            background: #FFFFFF;
            color: rgba(0, 31, 63, 0.4);
            border-color: rgba(0, 31, 63, 0.08);
        }
        @media (max-width: 1024px) {
            .portfolio-card__media {
                height: 200px;
            }
            .portfolio-card__body {
                padding: 1.5rem;
            }
        }
        @media (max-width: 768px) {
            #header {
                border-radius: 0;
                border-left: none;
                border-right: none;
            }
            #header.header-floating {
                width: calc(100% - 1rem);
                top: 0.75rem;
                border-radius: 1rem;
            }
            .logo-marquee {
                height: 96px;
            }
            .logo-track {
                gap: 2.25rem;
            }
            .logo-track img {
                height: 56px;
                width: 140px;
            }
            .portfolio-card {
                min-width: 82vw;
            }
            .portfolio-card__media {
                height: 180px;
            }
            .portfolio-card__meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.4rem;
            }
            .portfolio-card__body {
                padding: 1.35rem 1.25rem 1.5rem;
            }
            .portfolio-card__title {
                font-size: 1.1rem;
            }
            .portfolio-card__copy {
                font-size: 0.94rem;
            }
            .portfolio-card__status {
                font-size: 0.65rem;
            }
            .portfolio-carousel__track {
                gap: 1.25rem;
                padding-left: max(calc((100vw - 82vw) / 2), 1rem);
                padding-right: max(calc((100vw - 82vw) / 2), 1rem);
            }
            .carousel-button {
                display: none;
            }
            #tenants {
                padding-top: 3rem;
                padding-bottom: 3rem;
            }
            #contact .grid {
                gap: 2.5rem;
            }
            footer .grid {
                gap: 2.5rem;
            }
        }
    </style>
</head>
<body class="bg-[#F5F5F5] text-[#333333]">

    <header id="header" class="sticky top-0 z-50 border border-[#001F3F]/10 bg-white/95 shadow-lg backdrop-blur transition-all duration-300">
        <nav class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4 px-5 py-6 md:px-8">
            <a href="#home" class="flex items-center gap-3">
                <img src="nick-removebg-preview.png" alt="Platinum Development logo" class="h-10 w-auto" loading="lazy" decoding="async">
                <span class="sr-only" data-cms-text="companyName">Platinum Development</span>
            </a>
            <div class="hidden flex-1 items-center justify-end gap-6 text-sm font-medium md:flex" data-cms-nav="desktop">
                <a href="#home" class="text-[#001F3F] transition-colors hover:text-[#FF6600]">Home</a>
                <a href="#about" class="text-[#001F3F] transition-colors hover:text-[#FF6600]">About</a>
                <a href="#portfolio" class="text-[#001F3F] transition-colors hover:text-[#FF6600]">Portfolio</a>
                <a href="#investors" class="text-[#001F3F] transition-colors hover:text-[#FF6600]">Investors</a>
                <a href="#contact" class="inline-flex items-center rounded-full bg-[#D4AF37] px-4 py-2 text-[#001F3F] shadow-sm transition-colors hover:bg-[#b89027]">Contact</a>
            </div>
            <div class="flex items-center md:hidden">
                <button id="menu-btn" type="button" class="inline-flex items-center justify-center rounded-lg p-2 text-[#001F3F] hover:bg-[#001F3F]/10 focus:outline-none focus:ring-2 focus:ring-[#D4AF37] focus:ring-offset-2 focus:ring-offset-white" aria-controls="mobile-menu" aria-expanded="false">
                    <span class="sr-only">Toggle main menu</span>
                    <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5M3.75 12h16.5m-16.5 6.75h16.5" />
                    </svg>
                </button>
            </div>
            <div id="mobile-menu" class="hidden w-full md:hidden">
                <div class="mt-2 space-y-2 rounded-lg border border-[#001F3F]/10 bg-white p-3 shadow-lg backdrop-blur" data-cms-nav="mobile">
                    <a href="#home" class="block rounded-md px-4 py-2 text-base font-medium text-[#001F3F] transition-colors hover:bg-[#001F3F]/10">Home</a>
                    <a href="#about" class="block rounded-md px-4 py-2 text-base font-medium text-[#001F3F] transition-colors hover:bg-[#001F3F]/10">About</a>
                    <a href="#portfolio" class="block rounded-md px-4 py-2 text-base font-medium text-[#001F3F] transition-colors hover:bg-[#001F3F]/10">Portfolio</a>
                    <a href="#investors" class="block rounded-md px-4 py-2 text-base font-medium text-[#001F3F] transition-colors hover:bg-[#001F3F]/10">Investors</a>
                    <a href="#contact" class="block rounded-md bg-[#D4AF37] px-4 py-2 text-base font-semibold text-[#001F3F] transition-colors hover:bg-[#b89027]">Contact</a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="h-screen bg-cover bg-center flex items-center justify-center text-white" data-cms-bg-image="hero.backgroundImage" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('vegas2.jpg');">
            <div class="text-center px-4 fade-in-section">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4 text-white" data-cms-text="hero.headline">Redefining the Las Vegas Landscape.</h1>
                <p class="text-lg md:text-xl text-gray-200 mb-8 max-w-3xl mx-auto" data-cms-text="hero.subheadline">Developing premier retail, multifamily, and single-family properties with excellence and integrity.</p>
                <div class="flex flex-col items-center gap-4 sm:flex-row sm:justify-center">
                    <a href="#portfolio" class="bg-[#D4AF37] text-[#001F3F] font-semibold py-3 px-8 rounded-full text-lg shadow-lg transition-transform transform hover:scale-105 hover:bg-[#b89027]" data-cms-text="hero.ctaLabel" data-cms-attr-href="hero.ctaHref">Explore Projects</a>
                    <a href="#contact" class="bg-[#D4AF37] text-[#001F3F] font-semibold py-3 px-8 rounded-full text-lg shadow-lg transition-transform transform hover:scale-105 hover:bg-[#b89027]">Contact Us</a>
                </div>
            </div>
        </section>

        <section id="about" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="grid md:grid-cols-2 gap-12 items-center fade-in-section">
                    <div>
                        <img src="https://placehold.co/600x400/FFE9D4/001F3F?text=Image+Coming+Soon" alt="Image coming soon" class="rounded-lg shadow-xl w-full" data-cms-image="about.image" loading="lazy" decoding="async">
                    </div>
                    <div>
                        <h2 class="text-3xl font-bold mb-4 text-[#001F3F]" data-cms-text="about.heading">Building Communities, Creating Value.</h2>
                        <div class="space-y-4" data-cms-paragraphs="about.body" data-cms-paragraph-class="text-[#333333]">
                            <p class="text-[#333333]">We are Platinum Development, a premier developer and operator of high-quality retail, multifamily, and single-family projects. Through our robust services and commitment to excellence, we ensure the creation of the best properties for our local communities.</p>
                            <p class="text-[#333333]">Our expertise in the Las Vegas market allows us to identify unique opportunities and deliver exceptional returns for our partners and investors.</p>
                        </div>
                        <div class="mt-10 grid sm:grid-cols-2 gap-6 hidden fade-in-section" data-cms-collection="about.highlights">
                        </div>
                    </div>
                </div>
                <div class="mt-16 grid gap-6 fade-in-section sm:grid-cols-3">
                    <article class="rounded-xl border border-[#E0E0E0] bg-white p-6 shadow-sm">
                        <h3 class="text-lg font-semibold text-[#001F3F]">Community-Centered Design</h3>
                        <p class="mt-3 text-sm text-[#333333]">We collaborate with local partners to ensure every project strengthens the neighborhood it serves.</p>
                    </article>
                    <article class="rounded-xl border border-[#E0E0E0] bg-white p-6 shadow-sm">
                        <h3 class="text-lg font-semibold text-[#001F3F]">Balanced Portfolio</h3>
                        <p class="mt-3 text-sm text-[#333333]">Retail, multifamily, and single-family developments are curated to deliver lasting value for residents and tenants.</p>
                    </article>
                    <article class="rounded-xl border border-[#E0E0E0] bg-white p-6 shadow-sm">
                        <h3 class="text-lg font-semibold text-[#001F3F]">Hands-On Stewardship</h3>
                        <p class="mt-3 text-sm text-[#333333]">From acquisition through operations, our team stays engaged to maintain quality and performance.</p>
                    </article>
                </div>
            </div>
        </section>

        <section id="portfolio" class="py-20 bg-[#F5F5F5]">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in-section">
                    <h2 class="text-3xl font-bold text-[#001F3F]" data-cms-text="portfolio.heading">Our Portfolio</h2>
                    <p class="mt-2 text-[#333333]" data-cms-text="portfolio.subheading">A selection of our completed and upcoming projects.</p>
                </div>

                <div class="space-y-16" data-portfolio-groups>
                    <p class="text-center text-sm text-[#333333]" data-portfolio-empty hidden>Portfolio data will appear here once projects are published.</p>
                </div>
            </div>
        </section>
        <section id="tenants" class="py-16 bg-white">
            <div class="container mx-auto px-6 text-center fade-in-section">
                <h2 class="text-3xl font-bold mb-2 text-[#001F3F]" data-cms-text="partners.heading">Trusted By Leading Brands</h2>
                <p class="mb-10 text-[#333333]" data-cms-text="partners.subheading">We are proud to partner with nationally recognized tenants.</p>
                <div class="logo-marquee" aria-label="Trusted partner logos">
                    <div class="logo-track" id="logo-track"></div>
                </div>
            </div>
        </section>

        <section id="investors" class="py-20 bg-[#F5F5F5]">
            <div class="container mx-auto px-6 text-center fade-in-section">
                <h2 class="text-3xl font-bold text-[#001F3F]" data-cms-text="investor.heading">Invest with Confidence</h2>
                <div class="mt-4 mx-auto max-w-2xl space-y-4 text-[#333333]" data-cms-paragraphs="investor.body" data-cms-paragraph-class="text-[#333333]">
                    <p>Join us in developing and managing premier real estate deals in Las Vegas that offer excellent returns. We provide stable and lucrative investment opportunities.</p>
                </div>
                <a href="#contact" class="mt-8 inline-block rounded-full bg-[#D4AF37] px-8 py-3 text-lg font-semibold text-[#001F3F] transition-transform transform hover:scale-105 hover:bg-[#b89027]" data-cms-text="investor.ctaLabel" data-cms-attr-href="investor.ctaHref">Become an Investor</a>
            </div>
        </section>

        <section id="contact" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12 fade-in-section">
                    <h2 class="text-3xl font-bold text-[#001F3F]" data-cms-text="contact.heading">Contact Us</h2>
                    <p class="mt-2 text-[#333333]" data-cms-text="contact.subheading">Let's build something great together. Reach out to discuss your next project.</p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 items-start fade-in-section">
                    <form class="space-y-6">
                        <div class="grid sm:grid-cols-2 gap-6">
                            <div>
                                <label for="first-name" class="block text-sm font-medium text-[#001F3F]">First Name</label>
                                <input type="text" id="first-name" class="mt-1 block w-full rounded-md border border-[#C7CDD3] bg-white px-3 py-2 shadow-sm focus:border-[#D4AF37] focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/40" required>
                            </div>
                            <div>
                                <label for="last-name" class="block text-sm font-medium text-[#001F3F]">Last Name</label>
                                <input type="text" id="last-name" class="mt-1 block w-full rounded-md border border-[#C7CDD3] bg-white px-3 py-2 shadow-sm focus:border-[#D4AF37] focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/40" required>
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-[#001F3F]">Email</label>
                            <input type="email" id="email" class="mt-1 block w-full rounded-md border border-[#C7CDD3] bg-white px-3 py-2 shadow-sm focus:border-[#D4AF37] focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/40" required>
                        </div>
                        <div>
                            <label for="message" class="block text-sm font-medium text-[#001F3F]">Message</label>
                            <textarea id="message" rows="4" class="mt-1 block w-full rounded-md border border-[#C7CDD3] bg-white px-3 py-2 shadow-sm focus:border-[#D4AF37] focus:outline-none focus:ring-2 focus:ring-[#D4AF37]/40" required></textarea>
                        </div>
                        <div>
                            <button type="submit" class="w-full rounded-full bg-[#D4AF37] px-6 py-3 font-semibold text-[#001F3F] transition-colors hover:bg-[#b89027]">Send Message</button>
                        </div>
                    </form>
                    <div class="space-y-6">
                        <div class="space-y-3 rounded-lg bg-[#F5F5F5] p-6">
                            <h3 class="text-xl font-semibold text-[#001F3F]" data-cms-text="contact.infoHeading">Our Information</h3>
                            <p class="text-[#333333]" data-cms-text="contact.email"><strong>Email:</strong><br> info@prdevelopmentgroup.com</p>
                            <p class="text-[#333333]" data-cms-text="contact.address"><strong>Address:</strong><br> 6870 S. Rainbow, Las Vegas, NV, 89118</p>
                            <p class="text-[#333333]" data-cms-text="contact.hours"><strong>Hours:</strong><br> Monday – Friday: 9:00 am – 5:00 pm</p>
                        </div>
                        <div class="h-64 overflow-hidden rounded-lg shadow-lg" data-cms-map="contact.mapEmbed">
                            <iframe
                                title="Platinum Development Location"
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3356.2804815565876!2d-115.20880982373752!3d36.066100808790935!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x80c8c7ad99bd7455%3A0xf0ae9ed474468e84!2s6870%20S%20Rainbow%20Blvd%2C%20Las%20Vegas%2C%20NV%2089118!5e0!3m2!1sen!2sus!4v1712782820000!5m2!1sen!2sus"
                                width="100%"
                                height="100%"
                                style="border:0"
                                allowfullscreen=""
                                loading="lazy"
                                referrerpolicy="no-referrer-when-downgrade"></iframe>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-[#F5F5F5] text-[#001F3F]">
        <div class="mx-auto max-w-6xl px-6 py-16">
            <div class="grid gap-12 md:grid-cols-[auto_1fr_1fr] items-start">
                <div class="flex flex-col items-center md:items-start">
                    <img src="nick-removebg-preview.png" alt="Platinum Development logo" class="h-12 w-auto" loading="lazy" decoding="async">
                </div>
                <div class="space-y-2 text-center md:text-left">
                    <h4 class="text-lg font-semibold tracking-wide uppercase">Hours</h4>
                    <p class="text-base text-[#333333]" data-footer-hours>Monday – Friday: 9:00 am – 5:00 pm</p>
                </div>
                <div class="space-y-2 text-center md:text-left">
                    <h4 class="text-lg font-semibold tracking-wide uppercase">Contact</h4>
                    <a href="mailto:info@prdevelopmentgroup.com" class="block text-base text-[#333333] transition-colors hover:text-[#FF6600]" data-footer-email>info@prdevelopmentgroup.com</a>
                    <p class="text-base text-[#333333]" data-footer-address>6870 S. Rainbow, Las Vegas, NV, 89118</p>
                </div>
            </div>
            <div class="mt-14 flex flex-col items-center space-y-2 text-sm text-[#333333]">
                <p data-cms-text="footer.copyright">© 2025 Platinum Development. All Rights Reserved.</p>
                <a href="https://saguarointeractive.com" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 font-medium transition-colors hover:text-[#FF6600]" data-cms-text="footer.credits">Website by Saguaro Interactive</a>
            </div>
        </div>
    </footer>

    <template id="portfolio-group-template">
        <div class="space-y-8" data-role="group">
            <div class="flex flex-col gap-4 md:flex-row md:items-end md:justify-between">
                <div class="text-left">
                    <p class="text-xs font-semibold uppercase tracking-[0.3em] text-[#FF6600]" data-role="tagline"></p>
                    <h3 class="text-2xl font-semibold text-[#001F3F]" data-role="title"></h3>
                    <p class="mt-2 max-w-2xl text-sm text-[#333333]" data-role="description"></p>
                </div>
                <div class="flex justify-end gap-2" data-role="controls">
                    <button type="button" class="carousel-button" data-carousel-prev aria-label="Scroll group left">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-5 w-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M14.25 19.5 7.75 12l6.5-7.5" />
                        </svg>
                    </button>
                    <button type="button" class="carousel-button" data-carousel-next aria-label="Scroll group right">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="h-5 w-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9.75 4.5l6.5 7.5-6.5 7.5" />
                        </svg>
                    </button>
                </div>
            </div>
            <div class="relative">
                <div class="portfolio-carousel__track flex snap-x snap-mandatory gap-6 overflow-x-auto pb-6 scroll-smooth" data-carousel-track></div>
            </div>
        </div>
    </template>

    <template id="portfolio-card-template">
        <article class="portfolio-card snap-start min-w-[280px] sm:min-w-[320px] lg:min-w-[360px]">
            <div class="portfolio-card__media" data-role="media">
                <span class="portfolio-card__badge" data-role="badge"></span>
                <img data-role="image" alt="" class="h-full w-full object-cover" />
                <div class="portfolio-card__media--placeholder">
                    <span class="portfolio-card__media-text">Image coming soon</span>
                </div>
            </div>
            <div class="portfolio-card__body">
                <div class="portfolio-card__meta">
                    <span data-role="location"></span>
                    <div class="portfolio-card__metrics" data-role="metrics"></div>
                </div>
                <h4 class="portfolio-card__title" data-role="title"></h4>
                <p class="portfolio-card__copy" data-role="summary"></p>
                <div class="portfolio-card__status" data-role="status"></div>
            </div>
        </article>
    </template>

    <template id="highlight-card-template">
        <div class="rounded-xl border border-[#E0E0E0] bg-white p-6 shadow-sm space-y-3">
            <h3 class="text-xl font-semibold text-[#001F3F]" data-role="title"></h3>
            <p class="text-[#333333]" data-role="description"></p>
        </div>
    </template>

    <template id="stat-card-template">
        <div class="bg-white rounded-xl shadow-sm p-6 text-center border border-[#E0E0E0]">
            <dt class="text-3xl font-bold text-[#001F3F]" data-role="value"></dt>
            <dd class="mt-2 text-sm uppercase tracking-wide text-[#333333]/70" data-role="label"></dd>
        </div>
    </template>

    <script>
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        if (menuBtn && mobileMenu) {
            menuBtn.addEventListener('click', () => {
                const isExpanded = menuBtn.getAttribute('aria-expanded') === 'true';
                menuBtn.setAttribute('aria-expanded', String(!isExpanded));
                mobileMenu.classList.toggle('hidden');
            });
        }

        const header = document.getElementById('header');
        const floatingThreshold = 20;
        const updateHeaderState = () => {
            if (!header) return;
            if (window.scrollY > floatingThreshold) {
                header.classList.add('header-floating');
            } else {
                header.classList.remove('header-floating');
            }
        };

        updateHeaderState();
        window.addEventListener('scroll', updateHeaderState, { passive: true });

        const sections = document.querySelectorAll('.fade-in-section');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, {
            threshold: 0.1
        });

        sections.forEach(section => {
            observer.observe(section);
        });
    </script>

    <script>
        const DATA_SOURCE_URL = './content/site.json';
        const HERO_OVERLAY = 'linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5))';
        const FALLBACK_PARTNER_LOGOS = [
            { name: "BJ's", logo: 'logos/BJs.png' },
            { name: 'Einstein Bros Bagels', logo: 'logos/Einstein.png' },
            { name: 'Big 5 Sporting Goods', logo: 'logos/big5.png' },
            { name: 'Cox Communications', logo: 'logos/cox.png' },
            { name: 'Massage Envy', logo: 'logos/massageenvy.png' },
            { name: 'Moneytree', logo: 'logos/moneytree.png' }
        ];
        const DEFAULT_PORTFOLIO_GROUPS = [
            {
                id: 'retail',
                title: 'Retail Properties',
                tagline: 'Retail Portfolio',
                description: 'High-performing centers anchored by national brands across the Las Vegas valley.',
                focusLabel: 'Focus'
            },
            {
                id: 'multifamily',
                title: 'Multifamily Communities',
                tagline: 'Multifamily Portfolio',
                description: 'Thoughtfully designed communities that balance modern comfort and neighborhood character.',
                focusLabel: 'Focus'
            },
            {
                id: 'singleFamily',
                title: 'Single-Family Neighborhoods',
                tagline: 'Single-Family Portfolio',
                description: 'Private enclaves of homes tailored to modern living with enduring value.',
                focusLabel: 'Focus'
            }
        ];

        function encodeToBase64(markup) {
            try {
                if (typeof TextEncoder === 'undefined') {
                    return window.btoa(unescape(encodeURIComponent(markup)));
                }
                const encoder = new TextEncoder();
                const bytes = encoder.encode(markup);
                let binary = '';
                bytes.forEach((byte) => {
                    binary += String.fromCharCode(byte);
                });
                return window.btoa(binary);
            } catch (error) {
                console.error('Failed to encode markup.', error);
                return '';
            }
        }

        function decodeFromBase64(value) {
            try {
                const binary = window.atob(value);
                if (typeof TextDecoder === 'undefined') {
                    return decodeURIComponent(Array.from(binary, (char) => `%${char.charCodeAt(0).toString(16).padStart(2, '0')}`).join(''));
                }
                const bytes = Uint8Array.from(binary, (char) => char.charCodeAt(0));
                return new TextDecoder().decode(bytes);
            } catch (error) {
                console.error('Failed to decode markup.', error);
                return '';
            }
        }

        function normalizeString(value) {
            return typeof value === 'string' ? value.trim() : '';
        }

        function ensureLazyImage(image) {
            if (!image) {
                return;
            }
            image.loading = 'lazy';
            image.decoding = 'async';
        }

        function setText(key, value) {
            const text = normalizeString(value);
            if (!text) {
                return;
            }
            document.querySelectorAll(`[data-cms-text="${key}"]`).forEach((el) => {
                el.textContent = text;
            });
        }

        function setAttr(key, attr, value) {
            if (!value) {
                return;
            }
            document.querySelectorAll(`[data-cms-attr-${attr}="${key}"]`).forEach((el) => {
                el.setAttribute(attr, value);
            });
        }

        function setBackgroundImage(key, url, alt) {
            const safeUrl = normalizeString(url);
            const preload = document.getElementById('hero-preload');
            document.querySelectorAll(`[data-cms-bg-image="${key}"]`).forEach((el) => {
                if (safeUrl) {
                    el.style.backgroundImage = `${HERO_OVERLAY}, url('${safeUrl}')`;
                } else {
                    el.style.backgroundImage = HERO_OVERLAY;
                }
                if (alt) {
                    el.setAttribute('aria-label', alt);
                }
            });
            if (preload && safeUrl) {
                preload.href = safeUrl;
            }
        }

        function setImage(key, url, altText) {
            const src = normalizeString(url);
            const alt = normalizeString(altText);
            document.querySelectorAll(`[data-cms-image="${key}"]`).forEach((el) => {
                ensureLazyImage(el);
                if (src) {
                    el.src = src;
                }
                if (alt) {
                    el.alt = alt;
                }
                const media = el.closest('[data-role="media"]');
                if (media) {
                    if (src) {
                        media.setAttribute('data-has-image', '');
                    } else {
                        media.removeAttribute('data-has-image');
                    }
                }
            });
        }

        function setParagraphs(key, paragraphs, defaultClass) {
            if (!Array.isArray(paragraphs) || !paragraphs.length) {
                return;
            }
            document.querySelectorAll(`[data-cms-paragraphs="${key}"]`).forEach((container) => {
                const paragraphClass = container.getAttribute('data-cms-paragraph-class') || defaultClass || '';
                container.innerHTML = '';
                paragraphs.forEach((entry) => {
                    const text = normalizeString(typeof entry === 'string' ? entry : entry?.paragraph || entry?.text);
                    if (!text) return;
                    const p = document.createElement('p');
                    p.className = paragraphClass;
                    p.textContent = text;
                    container.appendChild(p);
                });
            });
        }

        function renderNavLinks(links) {
            if (!Array.isArray(links) || !links.length) {
                return;
            }
            const desktop = document.querySelector('[data-cms-nav="desktop"]');
            const mobile = document.querySelector('[data-cms-nav="mobile"]');
            const footer = document.querySelector('[data-cms-footer-nav] ul');
            const menuButton = document.getElementById('menu-btn');
            const mobileMenuElement = document.getElementById('mobile-menu');
            const primaryIndex = links.findIndex((link) => link?.isPrimary);
            const fallbackPrimaryIndex = primaryIndex >= 0 ? primaryIndex : links.length - 1;

            const renderList = (container, isDesktop) => {
                if (!container) return;
                container.innerHTML = '';
                links.forEach(({ label, href, isPrimary }, index) => {
                    const text = normalizeString(label);
                    if (!text) return;
                    const linkHref = normalizeString(href) || '#';
                    const a = document.createElement('a');
                    a.textContent = text;
                    a.href = linkHref;
                    if (isDesktop) {
                        const isButton = isPrimary || index === fallbackPrimaryIndex;
                        a.className = isButton
                            ? 'inline-flex items-center rounded-full bg-[#D4AF37] px-4 py-2 text-sm font-semibold text-[#001F3F] shadow-sm transition-colors hover:bg-[#b89027]'
                            : 'text-sm font-medium text-[#001F3F] transition-colors hover:text-[#FF6600]';
                    } else {
                        a.className = 'block rounded-md px-4 py-2 text-base font-medium text-[#001F3F] transition-colors hover:bg-[#001F3F]/10';
                        if (isPrimary || index === fallbackPrimaryIndex) {
                            a.classList.add('bg-[#D4AF37]', 'text-[#001F3F]');
                        }
                        a.addEventListener('click', () => {
                            if (menuButton && mobileMenuElement) {
                                menuButton.setAttribute('aria-expanded', 'false');
                                mobileMenuElement.classList.add('hidden');
                            }
                        });
                    }
                    container.appendChild(a);
                });
            };

            renderList(desktop, true);
            renderList(mobile, false);

            if (footer) {
                footer.innerHTML = '';
                links.forEach(({ label, href }) => {
                    const text = normalizeString(label);
                    if (!text) return;
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    a.textContent = text;
                    a.href = normalizeString(href) || '#';
                    a.className = 'text-[#001F3F]/80 hover:text-[#FF6600]';
                    li.appendChild(a);
                    footer.appendChild(li);
                });
            }
        }

        function formatLabel(value) {
            if (!value) return '';
            const spaced = value.replace(/([A-Z])/g, ' $1').replace(/_/g, ' ');
            return spaced.charAt(0).toUpperCase() + spaced.slice(1);
        }

        function resolvePortfolioGroups(portfolio, projects) {
            const groupsFromContent = Array.isArray(portfolio?.groups) ? portfolio.groups : [];
            const projectTypes = Array.isArray(projects)
                ? [...new Set(projects.map((project) => normalizeString(project?.propertyType)).filter(Boolean))]
                : [];
            const definedIds = new Set(groupsFromContent.map((group) => group?.id).filter(Boolean));
            const fallbackGroups = DEFAULT_PORTFOLIO_GROUPS.filter(
                (group) => projectTypes.includes(group.id) && !definedIds.has(group.id)
            );
            const missingTypes = projectTypes.filter(
                (type) => !definedIds.has(type) && !fallbackGroups.some((group) => group.id === type)
            );
            const generatedGroups = missingTypes.map((type) => ({
                id: type,
                title: formatLabel(type),
                tagline: `${formatLabel(type)} Portfolio`,
                focusLabel: 'Focus'
            }));
            return [...groupsFromContent, ...fallbackGroups, ...generatedGroups];
        }

        function buildMetrics(metrics, container) {
            if (!container) {
                return;
            }
            container.innerHTML = '';
            if (!Array.isArray(metrics) || !metrics.length) {
                container.remove();
                return;
            }
            metrics.forEach((metric) => {
                const label = normalizeString(metric?.label);
                const value = normalizeString(metric?.value);
                if (!label && !value) {
                    return;
                }
                const span = document.createElement('span');
                span.textContent = value && label ? `${label}: ${value}` : value || label;
                container.appendChild(span);
            });
            if (!container.childElementCount) {
                container.remove();
            }
        }

        function buildStatus(project, focusLabel, statusEl) {
            if (!statusEl) {
                return;
            }
            statusEl.innerHTML = '';
            const statusText = normalizeString(project?.status);
            const focusText = normalizeString(project?.focus);
            if (!statusText && !focusText) {
                statusEl.remove();
                return;
            }
            const fragment = document.createDocumentFragment();
            if (statusText) {
                const statusSpan = document.createElement('span');
                statusSpan.textContent = `Status: ${statusText}`;
                fragment.appendChild(statusSpan);
            }
            if (statusText && focusText) {
                const dot = document.createElement('span');
                dot.className = 'portfolio-card__dot';
                fragment.appendChild(dot);
            }
            if (focusText) {
                const focusSpan = document.createElement('span');
                focusSpan.textContent = `${focusLabel || 'Focus'}: ${focusText}`;
                fragment.appendChild(focusSpan);
            }
            statusEl.appendChild(fragment);
        }

        function renderProjects(projects, portfolio) {
            const container = document.querySelector('[data-portfolio-groups]');
            if (!container) {
                return;
            }
            const groupTemplate = document.getElementById('portfolio-group-template');
            const cardTemplate = document.getElementById('portfolio-card-template');
            container.innerHTML = '';
            if (!groupTemplate || !cardTemplate) {
                return;
            }
            const safeProjects = Array.isArray(projects)
                ? projects.filter((project) => normalizeString(project?.title))
                : [];
            const groups = resolvePortfolioGroups(portfolio, safeProjects);
            let hasContent = false;

            groups.forEach((group) => {
                const groupId = normalizeString(group?.id);
                const groupProjects = safeProjects.filter((project) => {
                    return groupId
                        ? normalizeString(project?.propertyType).toLowerCase() === groupId.toLowerCase()
                        : true;
                });
                if (!groupProjects.length) {
                    return;
                }
                hasContent = true;
                const clone = groupTemplate.content.firstElementChild.cloneNode(true);
                const carouselWrapper = clone;
                const groupTitle = normalizeString(group?.title) || formatLabel(groupId) || 'Portfolio';
                carouselWrapper.setAttribute('data-carousel', groupId || 'portfolio');

                const taglineEl = clone.querySelector('[data-role="tagline"]');
                const taglineText = normalizeString(group?.tagline);
                if (taglineEl) {
                    if (taglineText) {
                        taglineEl.textContent = taglineText;
                    } else {
                        taglineEl.remove();
                    }
                }

                const titleEl = clone.querySelector('[data-role="title"]');
                if (titleEl) {
                    titleEl.textContent = groupTitle;
                }

                const descriptionEl = clone.querySelector('[data-role="description"]');
                const descriptionText = normalizeString(group?.description);
                if (descriptionEl) {
                    if (descriptionText) {
                        descriptionEl.textContent = descriptionText;
                    } else {
                        descriptionEl.remove();
                    }
                }

                const controls = clone.querySelector('[data-role="controls"]');
                if (controls) {
                    const prev = controls.querySelector('[data-carousel-prev]');
                    const next = controls.querySelector('[data-carousel-next]');
                    if (prev) {
                        prev.setAttribute('aria-label', `Scroll ${groupTitle} left`);
                    }
                    if (next) {
                        next.setAttribute('aria-label', `Scroll ${groupTitle} right`);
                    }
                }

                const track = clone.querySelector('[data-carousel-track]');
                if (track) {
                    const fragment = document.createDocumentFragment();
                    groupProjects.forEach((project) => {
                        const card = cardTemplate.content.firstElementChild.cloneNode(true);
                        const title = card.querySelector('[data-role="title"]');
                        if (title) {
                            title.textContent = normalizeString(project?.title);
                        }
                        const summary = card.querySelector('[data-role="summary"]');
                        const summaryText = normalizeString(project?.summary);
                        if (summary) {
                            if (summaryText) {
                                summary.textContent = summaryText;
                            } else {
                                summary.remove();
                            }
                        }
                        const location = card.querySelector('[data-role="location"]');
                        const locationText = normalizeString(project?.location);
                        if (location) {
                            if (locationText) {
                                location.textContent = locationText;
                            } else {
                                location.remove();
                            }
                        }
                        const badge = card.querySelector('[data-role="badge"]');
                        if (badge) {
                            badge.textContent = normalizeString(project?.badgeLabel) || formatLabel(project?.propertyType) || groupTitle;
                        }
                        const image = card.querySelector('[data-role="image"]');
                        const media = card.querySelector('[data-role="media"]');
                        const imageSrc = normalizeString(project?.image);
                        const fallbackTitle = normalizeString(project?.title) || 'Project';
                        const imageAlt = normalizeString(project?.imageAlt) || `${fallbackTitle} image`;
                        if (image) {
                            ensureLazyImage(image);
                            if (imageSrc) {
                                image.src = imageSrc;
                                image.alt = imageAlt;
                                if (media) {
                                    media.setAttribute('data-has-image', '');
                                }
                            } else if (media) {
                                media.removeAttribute('data-has-image');
                            }
                        }
                        const metricsContainer = card.querySelector('[data-role="metrics"]');
                        buildMetrics(project?.metrics, metricsContainer);
                        const meta = card.querySelector('.portfolio-card__meta');
                        if (meta && !meta.textContent.trim()) {
                            meta.remove();
                        }
                        const statusEl = card.querySelector('[data-role="status"]');
                        buildStatus(project, normalizeString(group?.focusLabel), statusEl);
                        fragment.appendChild(card);
                    });
                    track.appendChild(fragment);
                }

                container.appendChild(clone);
            });

            if (!hasContent) {
                const empty = document.createElement('p');
                empty.className = 'text-center text-sm text-[#333333]';
                empty.setAttribute('data-portfolio-empty', '');
                empty.textContent = 'Portfolio data will appear here once projects are published.';
                container.appendChild(empty);
                return;
            }

            initCarousels();
        }

        function renderHighlights(highlights) {
            const container = document.querySelector('[data-cms-collection="about.highlights"]');
            if (!container) {
                return;
            }
            const template = document.getElementById('highlight-card-template');
            container.innerHTML = '';
            if (!template || !Array.isArray(highlights) || !highlights.length) {
                container.classList.add('hidden');
                return;
            }
            highlights.forEach((item) => {
                if (!normalizeString(item?.title) && !normalizeString(item?.description)) {
                    return;
                }
                const clone = template.content.firstElementChild.cloneNode(true);
                const title = clone.querySelector('[data-role="title"]');
                if (title && normalizeString(item?.title)) {
                    title.textContent = normalizeString(item.title);
                } else if (title) {
                    title.remove();
                }
                const description = clone.querySelector('[data-role="description"]');
                if (description && normalizeString(item?.description)) {
                    description.textContent = normalizeString(item.description);
                } else if (description) {
                    description.remove();
                }
                container.appendChild(clone);
            });
            if (!container.childElementCount) {
                container.classList.add('hidden');
            } else {
                container.classList.remove('hidden');
            }
        }

        function renderStats(stats) {
            const container = document.querySelector('[data-cms-collection="about.stats"]');
            if (!container) {
                return;
            }
            const template = document.getElementById('stat-card-template');
            container.innerHTML = '';
            if (!template || !Array.isArray(stats) || !stats.length) {
                container.classList.add('hidden');
                return;
            }
            stats.forEach((stat) => {
                if (!normalizeString(stat?.label) && !normalizeString(stat?.value)) {
                    return;
                }
                const clone = template.content.firstElementChild.cloneNode(true);
                const value = clone.querySelector('[data-role="value"]');
                if (value && normalizeString(stat?.value)) {
                    value.textContent = normalizeString(stat.value);
                }
                const label = clone.querySelector('[data-role="label"]');
                if (label && normalizeString(stat?.label)) {
                    label.textContent = normalizeString(stat.label);
                }
                container.appendChild(clone);
            });
            if (!container.childElementCount) {
                container.classList.add('hidden');
            } else {
                container.classList.remove('hidden');
            }
        }

        function formatLogoAlt(pathOrName) {
            const base = normalizeString(pathOrName).split('/').pop()?.split('.')[0] || normalizeString(pathOrName);
            return base
                .replace(/[-_]/g, ' ')
                .replace(/\b\w/g, (char) => char.toUpperCase())
                .trim();
        }

        function renderPartners(partners) {
            const track = document.getElementById('logo-track');
            const marquee = document.querySelector('.logo-marquee');
            if (!track || !marquee) {
                return;
            }
            const items = Array.isArray(partners?.items) && partners.items.length ? partners.items : FALLBACK_PARTNER_LOGOS;
            track.innerHTML = '';
            if (!items.length) {
                marquee.classList.add('hidden');
                return;
            }
            marquee.classList.remove('hidden');
            const doubled = [...items, ...items];
            doubled.forEach((item) => {
                const img = document.createElement('img');
                const src = normalizeString(item?.logo || item?.src);
                const label = normalizeString(item?.name) || formatLogoAlt(src) || 'Partner logo';
                ensureLazyImage(img);
                if (src) {
                    img.src = src;
                }
                img.alt = label;
                track.appendChild(img);
            });
            const baseCount = items.length || 1;
            const duration = Math.max(baseCount * 4, 20);
            track.style.animationDuration = `${duration}s`;
        }

        function initCarousels() {
            document.querySelectorAll('[data-carousel]').forEach((carousel) => {
                const track = carousel.querySelector('[data-carousel-track]');
                if (!track) {
                    return;
                }
                const prevBtn = carousel.querySelector('[data-carousel-prev]');
                const nextBtn = carousel.querySelector('[data-carousel-next]');

                const getScrollAmount = () => {
                    const card = track.querySelector('.portfolio-card');
                    return card ? card.offsetWidth + 24 : track.clientWidth;
                };

                const updateButtons = () => {
                    const maxScroll = track.scrollWidth - track.clientWidth;
                    if (prevBtn) {
                        prevBtn.disabled = track.scrollLeft <= 12;
                    }
                    if (nextBtn) {
                        nextBtn.disabled = track.scrollLeft >= maxScroll - 12;
                    }
                };

                if (prevBtn) {
                    prevBtn.addEventListener('click', () => {
                        track.scrollBy({ left: -getScrollAmount(), behavior: 'smooth' });
                    });
                }

                if (nextBtn) {
                    nextBtn.addEventListener('click', () => {
                        track.scrollBy({ left: getScrollAmount(), behavior: 'smooth' });
                    });
                }

                track.addEventListener('scroll', () => requestAnimationFrame(updateButtons));
                updateButtons();
            });
        }

        let mapObserver;
        function getMapObserver() {
            if (mapObserver || !('IntersectionObserver' in window)) {
                return mapObserver;
            }
            mapObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach((entry) => {
                    if (!entry.isIntersecting) {
                        return;
                    }
                    const target = entry.target;
                    const encoded = target.getAttribute('data-map-embed');
                    if (encoded) {
                        const decoded = decodeFromBase64(encoded);
                        if (decoded) {
                            target.innerHTML = decoded;
                        }
                        target.removeAttribute('data-map-embed');
                    }
                    observer.unobserve(target);
                });
            }, { rootMargin: '0px 0px 200px 0px' });
            return mapObserver;
        }

        function renderContactInfo(contact) {
            if (!contact) {
                return;
            }
            setText('contact.infoHeading', contact.infoHeading || 'Our Information');
            if (contact.email) {
                const emailEl = document.querySelector('[data-cms-text="contact.email"]');
                if (emailEl) {
                    emailEl.innerHTML = `<strong>Email:</strong><br>${contact.email}`;
                }
                const footerEmailEl = document.querySelector('[data-footer-email]');
                if (footerEmailEl) {
                    footerEmailEl.textContent = contact.email;
                    footerEmailEl.setAttribute('href', `mailto:${contact.email}`);
                }
            }
            if (contact.address) {
                const addressEl = document.querySelector('[data-cms-text="contact.address"]');
                if (addressEl) {
                    addressEl.innerHTML = `<strong>Address:</strong><br>${contact.address}`;
                }
                const footerAddressEl = document.querySelector('[data-footer-address]');
                if (footerAddressEl) {
                    footerAddressEl.textContent = contact.address;
                }
            }
            if (contact.hours) {
                const hoursEl = document.querySelector('[data-cms-text="contact.hours"]');
                if (hoursEl) {
                    hoursEl.innerHTML = `<strong>Hours:</strong><br>${contact.hours}`;
                }
                const footerHoursEl = document.querySelector('[data-footer-hours]');
                if (footerHoursEl) {
                    footerHoursEl.textContent = contact.hours;
                }
            }
            if (contact.mapEmbed) {
                const encoded = encodeToBase64(contact.mapEmbed);
                document.querySelectorAll('[data-cms-map="contact.mapEmbed"]').forEach((container) => {
                    if (!encoded) {
                        container.innerHTML = contact.mapEmbed;
                        return;
                    }
                    container.innerHTML = '';
                    container.setAttribute('data-map-embed', encoded);
                    const observer = getMapObserver();
                    if (observer) {
                        observer.observe(container);
                    } else {
                        try {
                            container.innerHTML = contact.mapEmbed;
                            container.removeAttribute('data-map-embed');
                        } catch (error) {
                            console.error('Failed to render map embed.', error);
                        }
                    }
                });
            }
            if (!contact.mapEmbed) {
                document.querySelectorAll('[data-cms-map="contact.mapEmbed"]').forEach((container) => {
                    container.innerHTML = '';
                    container.removeAttribute('data-map-embed');
                });
            }
        }

        function applySiteContent(site) {
            if (!site) {
                return;
            }

            if (site.title) {
                document.title = site.title;
            }

            setText('companyName', site.companyName);
            renderNavLinks(site.navigationLinks);

            const hero = site.hero || {};
            setBackgroundImage('hero.backgroundImage', hero.backgroundImage, hero.backgroundAlt);
            setText('hero.headline', hero.headline);
            setText('hero.subheadline', hero.subheadline);
            setText('hero.ctaLabel', hero.ctaLabel);
            setAttr('hero.ctaHref', 'href', hero.ctaHref);

            const about = site.about || {};
            setImage('about.image', about.image, about.imageAlt || about.heading);
            setText('about.heading', about.heading);
            setParagraphs('about.body', about.body, 'text-[#333333]');
            renderHighlights(about.highlights);
            renderStats(about.stats);

            const portfolio = site.portfolio || site.portfolioIntro || {};
            setText('portfolio.heading', portfolio.heading);
            setText('portfolio.subheading', portfolio.subheading);
            renderProjects(site.projects, portfolio);

            const partners = site.partners || {};
            setText('partners.heading', partners.heading);
            setText('partners.subheading', partners.subheading);
            renderPartners(partners);

            const investor = site.investor || {};
            setText('investor.heading', investor.heading);
            setParagraphs('investor.body', investor.body, 'text-[#333333]');
            setText('investor.ctaLabel', investor.ctaLabel);
            setAttr('investor.ctaHref', 'href', investor.ctaHref);

            const contact = site.contact || {};
            setText('contact.heading', contact.heading);
            setText('contact.subheading', contact.subheading);
            renderContactInfo(contact);

            const footer = site.footer || {};
            setText('footer.companyName', footer.companyName);
            setText('footer.copyright', footer.copyright);
            setText('footer.credits', footer.credits);
        }

        async function loadSiteContent() {
            try {
                const response = await fetch(DATA_SOURCE_URL, { cache: 'no-store' });
                if (!response.ok) {
                    throw new Error(`Request failed with status ${response.status}`);
                }
                const site = await response.json();
                applySiteContent(site);
            } catch (error) {
                console.error('Failed to load site content from Decap CMS data file.', error);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadSiteContent();
        });
    </script>

    <script>
        if (window.netlifyIdentity) {
            window.netlifyIdentity.on('init', (user) => {
                if (!user) {
                    window.netlifyIdentity.on('login', () => {
                        document.location.href = '/admin/';
                    });
                }
            });

            if (window.location.hash && window.location.hash.includes('confirmation_token')) {
                window.netlifyIdentity.open('login');
            }
        }
    </script>
</body>
</html>
